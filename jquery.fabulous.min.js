!function(n){function t(){}function e(n,t){try{for(var e in t)Object.defineProperty(n.prototype,e,{value:t[e],enumerable:!1})}catch(r){n.prototype=t}}function r(){}function u(n){return Ut+n in this}function a(n){return n=Ut+n,n in this&&delete this[n]}function i(){var n=[];return this.forEach(function(t){n.push(t)}),n}function o(){var n=0;for(var t in this)t.charCodeAt(0)===Ot&&++n;return n}function s(){for(var n in this)if(n.charCodeAt(0)===Ot)return!1;return!0}function c(n,t,e){return new l(n,t,e)}function l(n,t,e){this.h=n,this.c=t,this.l=e}function f(n,t,e){return isNaN(n)&&(n=0),isNaN(t)&&(t=0),h(e,Math.cos(n*=Lt)*t,Math.sin(n)*t)}function h(n,t,e){return new g(n,t,e)}function g(n,t,e){this.l=n,this.a=t,this.b=e}function d(n,t,e){var r=(n+16)/116,u=r+t/500,a=r-e/200;return u=y(u)*Pt,r=y(r)*Wt,a=y(a)*Zt,M(b(3.2404542*u-1.5371385*r-.4985314*a),b(-.969266*u+1.8760108*r+.041556*a),b(.0556434*u-.2040259*r+1.0572252*a))}function m(n,t,e){return n>0?c(Math.atan2(e,t)*Ht,Math.sqrt(t*t+e*e),n):c(0/0,0/0,n)}function y(n){return n>.206893034?n*n*n:(n-4/29)/7.787037}function p(n){return n>.008856?Math.pow(n,1/3):7.787037*n+4/29}function b(n){return Math.round(255*(.00304>=n?12.92*n:1.055*Math.pow(n,1/2.4)-.055))}function v(n){return M(n>>16,255&n>>8,255&n)}function M(n,t,e){return new w(n,t,e)}function w(n,t,e){this.r=n,this.g=t,this.b=e}function x(n){return 16>n?"0"+Math.max(0,n).toString(16):Math.min(255,n).toString(16)}function k(n,t,e){var r,u,a,i=0,o=0,s=0;if(r=/([a-z]+)\((.*)\)/i.exec(n))switch(u=r[2].split(","),r[1]){case"hsl":return e(parseFloat(u[0]),parseFloat(u[1])/100,parseFloat(u[2])/100);case"rgb":return t(T(u[0]),T(u[1]),T(u[2]))}return(a=Rt.get(n))?t(a.r,a.g,a.b):(null==n||"#"!==n.charAt(0)||isNaN(a=parseInt(n.substring(1),16))||(4===n.length?(i=(3840&a)>>4,i=i>>4|i,o=240&a,o=o>>4|o,s=15&a,s=s<<4|s):7===n.length&&(i=(16711680&a)>>16,o=(65280&a)>>8,s=255&a)),t(i,o,s))}function D(n,t,e){var r,u,a=Math.min(n/=255,t/=255,e/=255),i=Math.max(n,t,e),o=i-a,s=(i+a)/2;return o?(u=.5>s?o/(i+a):o/(2-i-a),r=n==i?(t-e)/o+(e>t?6:0):t==i?(e-n)/o+2:(n-t)/o+4,r*=60):(r=0/0,u=s>0&&1>s?0:r),S(r,u,s)}function C(n,t,e){n=F(n),t=F(t),e=F(e);var r=p((.4124564*n+.3575761*t+.1804375*e)/Pt),u=p((.2126729*n+.7151522*t+.072175*e)/Wt),a=p((.0193339*n+.119192*t+.9503041*e)/Zt);return h(116*u-16,500*(r-u),200*(u-a))}function F(n){return(n/=255)<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4)}function T(n){var t=parseFloat(n);return"%"===n.charAt(n.length-1)?Math.round(2.55*t):t}function S(n,t,e){return new N(n,t,e)}function N(n,t,e){this.h=n,this.s=t,this.l=e}function A(n,t,e){function r(n){return n>360?n-=360:0>n&&(n+=360),60>n?a+(i-a)*n/60:180>n?i:240>n?a+(i-a)*(240-n)/60:a}function u(n){return Math.round(255*r(n))}var a,i;return n=isNaN(n)?0:(n%=360)<0?n+360:n,t=isNaN(t)?0:0>t?0:t>1?1:t,e=0>e?0:e>1?1:e,i=.5>=e?e*(1+t):e+t-e*t,a=2*e-i,M(u(n+120),u(n),u(n-120))}function Y(n){var t=n[0],e=n[n.length-1];return e>t?[t,e]:[e,t]}function _(n){return function(t,e){t=Et.hsl(t),e=Et.hsl(e);var r=(t.h+120)*Lt,u=(e.h+120)*Lt-r,a=t.s,i=e.s-a,o=t.l,s=e.l-o;return isNaN(i)&&(i=0,a=isNaN(a)?e.s:a),isNaN(u)&&(u=0,r=isNaN(r)?e.h:r),function(t){var e=r+u*t,c=Math.pow(o+s*t,n),l=(a+i*t)*c*(1-c);return"#"+I(c+l*(-.14861*Math.cos(e)+1.78277*Math.sin(e)))+I(c+l*(-.29227*Math.cos(e)-.90649*Math.sin(e)))+I(c+1.97294*l*Math.cos(e))}}}function I(n){var t=(n=0>=n?0:n>=1?255:0|255*n).toString(16);return 16>n?"0"+t:t}function E(n){for(var t=1;n*t%1;)t*=10;return t}function U(n,t,e){return function(){var r=e.apply(t,arguments);return r===t?n:r}}function O(n,t){n=Et.rgb(n),t=Et.rgb(t);var e=n.r,r=n.g,u=n.b,a=t.r-e,i=t.g-r,o=t.b-u;return function(n){return"#"+x(Math.round(e+a*n))+x(Math.round(r+i*n))+x(Math.round(u+o*n))}}function j(n,t){var e,r={},u={};for(e in n)e in t?r[e]=z(n[e],t[e]):u[e]=n[e];for(e in t)e in n||(u[e]=t[e]);return function(n){for(e in r)u[e]=r[e](n);return u}}function L(n,t){var e,r=[],u=[],a=n.length,i=t.length,o=Math.min(n.length,t.length);for(e=0;o>e;++e)r.push(z(n[e],t[e]));for(;a>e;++e)u[e]=n[e];for(;i>e;++e)u[e]=t[e];return function(n){for(e=0;o>e;++e)u[e]=r[e](n);return u}}function H(n,t){return t-=n=+n,function(e){return n+t*e}}function q(n,t){var e,r,u,a=Gt.lastIndex=Qt.lastIndex=0,i=-1,o=[],s=[];for(n+="",t+="";(e=Gt.exec(n))&&(r=Qt.exec(t));)(u=r.index)>a&&(u=t.substring(a,u),o[i]?o[i]+=u:o[++i]=u),(e=e[0])===(r=r[0])?o[i]?o[i]+=r:o[++i]=r:(o[++i]=null,s.push({i:i,x:H(e,r)})),a=Qt.lastIndex;return a<t.length&&(u=t.substring(a),o[i]?o[i]+=u:o[++i]=u),o.length<2?s[0]?(t=s[0].x,function(n){return t(n)+""}):function(){return t}:(t=s.length,function(n){for(var e,r=0;t>r;++r)o[(e=s[r]).i]=e.x(n);return o.join("")})}function z(n,t){for(var e,r=Et.interpolators.length;--r>=0&&!(e=Et.interpolators[r](n,t)););return e}function P(n,t){return t-=n,function(e){return Math.round(n+t*e)}}function W(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}function Z(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return Math.max(0,Math.min(1,(e-n)*t))}}function X(n){return n}function J(n,t){return t-(n?Math.ceil(Math.log(n)/Math.LN10):1)}function R(n,t){var e=Math.pow(10,3*Bt(8-t));return{scale:t>8?function(n){return n/e}:function(n){return n*e},symbol:n}}function $(n){var t=n.decimal,e=n.thousands,r=n.grouping,u=n.currency,a=r?function(n){for(var t=n.length,u=[],a=0,i=r[0];t>0&&i>0;)u.push(n.substring(t-=i,t+i)),i=r[a=(a+1)%r.length];return u.reverse().join(e)}:X;return function(n){var e=Vt.exec(n),r=e[1]||" ",i=e[2]||">",o=e[3]||"",s=e[4]||"",c=e[5],l=+e[6],f=e[7],h=e[8],g=e[9],d=1,m="",y="",p=!1;switch(h&&(h=+h.substring(1)),(c||"0"===r&&"="===i)&&(c=r="0",i="=",f&&(l-=Math.floor((l-1)/4))),g){case"n":f=!0,g="g";break;case"%":d=100,y="%",g="f";break;case"p":d=100,y="%",g="r";break;case"b":case"o":case"x":case"X":"#"===s&&(m="0"+g.toLowerCase());case"c":case"d":p=!0,h=0;break;case"s":d=-1,g="r"}"$"===s&&(m=u[0],y=u[1]),"r"!=g||h||(g="g"),null!=h&&("g"==g?h=Math.max(1,Math.min(21,h)):("e"==g||"f"==g)&&(h=Math.max(0,Math.min(20,h)))),g=ne.get(g)||B;var b=c&&f;return function(n){var e=y;if(p&&n%1)return"";var u=0>n||0===n&&0>1/n?(n=-n,"-"):o;if(0>d){var s=Et.formatPrefix(n,h);n=s.scale(n),e=s.symbol+y}else n*=d;n=g(n,h);var v=n.lastIndexOf("."),M=0>v?n:n.substring(0,v),w=0>v?"":t+n.substring(v+1);!c&&f&&(M=a(M));var x=m.length+M.length+w.length+(b?0:u.length),k=l>x?new Array(x=l-x+1).join(r):"";return b&&(M=a(k+M)),u+=m,n=M+w,("<"===i?u+n+k:">"===i?k+u+n:"^"===i?k.substring(0,x>>=1)+u+n+k.substring(x):u+(b?n:k+n))+e}}}function B(n){return n+""}function G(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Q(n,t,e){function r(t){var e=n(t),r=a(e,1);return r-t>t-e?e:r}function u(e){return t(e=n(new re(e-1)),1),e}function a(n,e){return t(n=new re(+n),e),n}function i(n,r,a){var i=u(n),o=[];if(a>1)for(;r>i;)e(i)%a||o.push(new Date(+i)),t(i,1);else for(;r>i;)o.push(new Date(+i)),t(i,1);return o}function o(n,t,e){try{re=G;var r=new G;return r._=n,i(r,t,e)}finally{re=Date}}n.floor=n,n.round=r,n.ceil=u,n.offset=a,n.range=i;var s=n.utc=K(n);return s.floor=s,s.round=K(r),s.ceil=K(u),s.offset=K(a),s.range=o,n}function K(n){return function(t,e){try{re=G;var r=new G;return r._=t,n(r,e)._}finally{re=Date}}}function V(n){function t(n){function t(t){for(var e,u,a,i=[],o=-1,s=0;++o<r;)37===n.charCodeAt(o)&&(i.push(n.substring(s,o)),null!=(u=ae[e=n.charAt(++o)])&&(e=n.charAt(++o)),(a=S[e])&&(e=a(t,null==u?"e"===e?" ":"0":u)),i.push(e),s=o+1);return i.push(n.substring(s,o)),i.join("")}var r=n.length;return t.parse=function(t){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},u=e(r,n,t,0);if(u!=t.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var a=null!=r.Z&&re!==G,i=new(a?G:re);return"j"in r?i.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+Math.floor(r.Z/100),r.M+r.Z%100,r.S,r.L),a?i._:i},t.toString=function(){return n},t}function e(n,t,e,r){for(var u,a,i,o=0,s=t.length,c=e.length;s>o;){if(r>=c)return-1;if(u=t.charCodeAt(o++),37===u){if(i=t.charAt(o++),a=N[i in ae?t.charAt(o++):i],!a||(r=a(n,e,r))<0)return-1}else if(u!=e.charCodeAt(r++))return-1}return r}function r(n,t,e){x.lastIndex=0;var r=x.exec(t.substring(e));return r?(n.w=k.get(r[0].toLowerCase()),e+r[0].length):-1}function u(n,t,e){M.lastIndex=0;var r=M.exec(t.substring(e));return r?(n.w=w.get(r[0].toLowerCase()),e+r[0].length):-1}function a(n,t,e){F.lastIndex=0;var r=F.exec(t.substring(e));return r?(n.m=T.get(r[0].toLowerCase()),e+r[0].length):-1}function i(n,t,e){D.lastIndex=0;var r=D.exec(t.substring(e));return r?(n.m=C.get(r[0].toLowerCase()),e+r[0].length):-1}function o(n,t,r){return e(n,S.c.toString(),t,r)}function s(n,t,r){return e(n,S.x.toString(),t,r)}function c(n,t,r){return e(n,S.X.toString(),t,r)}function l(n,t,e){var r=v.get(t.substring(e,e+=2).toLowerCase());return null==r?-1:(n.p=r,e)}var f=n.dateTime,h=n.date,g=n.time,d=n.periods,m=n.days,y=n.shortDays,p=n.months,b=n.shortMonths;t.utc=function(n){function e(n){try{re=G;var t=new re;return t._=n,r(t)}finally{re=Date}}var r=t(n);return e.parse=function(n){try{re=G;var t=r.parse(n);return t&&t._}finally{re=Date}},e.toString=r.toString,e},t.multi=t.utc.multi=vt;var v=Et.map(),M=tt(m),w=et(m),x=tt(y),k=et(y),D=tt(p),C=et(p),F=tt(b),T=et(b);d.forEach(function(n,t){v.set(n.toLowerCase(),t)});var S={a:function(n){return y[n.getDay()]},A:function(n){return m[n.getDay()]},b:function(n){return b[n.getMonth()]},B:function(n){return p[n.getMonth()]},c:t(f),d:function(n,t){return nt(n.getDate(),t,2)},e:function(n,t){return nt(n.getDate(),t,2)},H:function(n,t){return nt(n.getHours(),t,2)},I:function(n,t){return nt(n.getHours()%12||12,t,2)},j:function(n,t){return nt(1+ee.dayOfYear(n),t,3)},L:function(n,t){return nt(n.getMilliseconds(),t,3)},m:function(n,t){return nt(n.getMonth()+1,t,2)},M:function(n,t){return nt(n.getMinutes(),t,2)},p:function(n){return d[+(n.getHours()>=12)]},S:function(n,t){return nt(n.getSeconds(),t,2)},U:function(n,t){return nt(ee.sundayOfYear(n),t,2)},w:function(n){return n.getDay()},W:function(n,t){return nt(ee.mondayOfYear(n),t,2)},x:t(h),X:t(g),y:function(n,t){return nt(n.getFullYear()%100,t,2)},Y:function(n,t){return nt(n.getFullYear()%1e4,t,4)},Z:pt,"%":function(){return"%"}},N={a:r,A:u,b:a,B:i,c:o,d:ft,e:ft,H:gt,I:gt,j:ht,L:yt,m:lt,M:dt,p:l,S:mt,U:ut,w:rt,W:at,x:s,X:c,y:ot,Y:it,Z:st,"%":bt};return t}function nt(n,t,e){var r=0>n?"-":"",u=(r?-n:n)+"",a=u.length;return r+(e>a?new Array(e-a+1).join(t)+u:u)}function tt(n){return new RegExp("^(?:"+n.map(Et.requote).join("|")+")","i")}function et(n){for(var t=new r,e=-1,u=n.length;++e<u;)t.set(n[e].toLowerCase(),e);return t}function rt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+1));return r?(n.w=+r[0],e+r[0].length):-1}function ut(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e));return r?(n.U=+r[0],e+r[0].length):-1}function at(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e));return r?(n.W=+r[0],e+r[0].length):-1}function it(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+4));return r?(n.y=+r[0],e+r[0].length):-1}function ot(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.y=ct(+r[0]),e+r[0].length):-1}function st(n,t,e){return/^[+-]\d{4}$/.test(t=t.substring(e,e+5))?(n.Z=-t,e+5):-1}function ct(n){return n+(n>68?1900:2e3)}function lt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.m=r[0]-1,e+r[0].length):-1}function ft(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.d=+r[0],e+r[0].length):-1}function ht(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+3));return r?(n.j=+r[0],e+r[0].length):-1}function gt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.H=+r[0],e+r[0].length):-1}function dt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.M=+r[0],e+r[0].length):-1}function mt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+2));return r?(n.S=+r[0],e+r[0].length):-1}function yt(n,t,e){ie.lastIndex=0;var r=ie.exec(t.substring(e,e+3));return r?(n.L=+r[0],e+r[0].length):-1}function pt(n){var t=n.getTimezoneOffset(),e=t>0?"-":"+",r=~~(Bt(t)/60),u=Bt(t)%60;return e+nt(r,"0",2)+nt(u,"0",2)}function bt(n,t,e){oe.lastIndex=0;var r=oe.exec(t.substring(e,e+1));return r?e+r[0].length:-1}function vt(n){for(var t=n.length,e=-1;++e<t;)n[e][0]=this(n[e][0]);return function(t){for(var e=0,r=n[e];!r[1](t);)r=n[++e];return r[0](t)}}function Mt(n,t,e,r){var u=e(n[0],n[1]),a=r(t[0],t[1]);return function(n){return a(u(n))}}function wt(n,t){var e,r=0,u=n.length-1,a=n[r],i=n[u];return a>i&&(e=r,r=u,u=e,e=a,a=i,i=e),n[r]=t.floor(a),n[u]=t.ceil(i),n}function xt(n){return n?{floor:function(t){return Math.floor(t/n)*n},ceil:function(t){return Math.ceil(t/n)*n}}:ce}function kt(n,t){return t>n?-1:n>t?1:n>=t?0:0/0}function Dt(n){return{left:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var a=r+u>>>1;n(t[a],e)<0?r=a+1:u=a}return r},right:function(t,e,r,u){for(arguments.length<3&&(r=0),arguments.length<4&&(u=t.length);u>r;){var a=r+u>>>1;n(t[a],e)>0?u=a:r=a+1}return r}}}function Ct(n,t,e,r){var u=[],a=[],i=0,o=Math.min(n.length,t.length)-1;for(n[o]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++i<=o;)u.push(e(n[i-1],n[i])),a.push(r(t[i-1],t[i]));return function(t){var e=Et.bisect(n,t,1,o)-1;return a[e](u[e](t))}}function Ft(n,t,e,r){function u(){var u=Math.min(n.length,t.length)>2?Ct:Mt,s=r?Z:W;return i=u(n,t,s,e),o=u(t,n,s,z),a}function a(n){return i(n)}var i,o;return a.invert=function(n){return o(n)},a.domain=function(t){return arguments.length?(n=t.map(Number),u()):n},a.range=function(n){return arguments.length?(t=n,u()):t},a.rangeRound=function(n){return a.range(n).interpolate(P)},a.clamp=function(n){return arguments.length?(r=n,u()):r},a.interpolate=function(n){return arguments.length?(e=n,u()):e},a.ticks=function(t){return Nt(n,t)},a.tickFormat=function(t,e){return At(n,t,e)},a.nice=function(t){return Tt(n,t),u()},a.copy=function(){return Ft(n,t,e,r)},u()}function Tt(n,t){return wt(n,xt(St(n,t)[2]))}function St(n,t){null==t&&(t=10);var e=Y(n),r=e[1]-e[0],u=Math.pow(10,Math.floor(Math.log(r/t)/Math.LN10)),a=t/r*u;return.15>=a?u*=10:.35>=a?u*=5:.75>=a&&(u*=2),e[0]=Math.ceil(e[0]/u)*u,e[1]=Math.floor(e[1]/u)*u+.5*u,e[2]=u,e}function Nt(n,t){return Et.range.apply(Et,St(n,t))}function At(n,t,e){var r=St(n,t);if(e){var u=Vt.exec(e);if(u.shift(),"s"===u[8]){var a=Et.formatPrefix(Math.max(Bt(r[0]),Bt(r[1])));return u[7]||(u[7]="."+Yt(a.scale(r[2]))),u[8]="f",e=Et.format(u.join("")),function(n){return e(a.scale(n))+a.symbol}}u[7]||(u[7]="."+_t(u[8],r)),e=u.join("")}else e=",."+Yt(r[2])+"f";return Et.format(e)}function Yt(n){return-Math.floor(Math.log(n)/Math.LN10+.01)}function _t(n,t){var e=Yt(t[2]);return n in fe?Math.abs(e-Yt(Math.max(Bt(t[0]),Bt(t[1]))))+ +("e"!==n):e-2*("%"===n)}function It(n){function t(n){return+n}return t.invert=t,t.domain=t.range=function(e){return arguments.length?(n=e.map(t),t):n},t.ticks=function(t){return Nt(n,t)},t.tickFormat=function(t,e){return At(n,t,e)},t.copy=function(){return It(n)},t}var Et={};t.prototype.toString=function(){return this.rgb()+""},Et.map=function(n){var t=new r;if(n instanceof r)n.forEach(function(n,e){t.set(n,e)});else for(var e in n)t.set(e,n[e]);return t},e(r,{has:u,get:function(n){return this[Ut+n]},set:function(n,t){return this[Ut+n]=t},remove:a,keys:i,values:function(){var n=[];return this.forEach(function(t,e){n.push(e)}),n},entries:function(){var n=[];return this.forEach(function(t,e){n.push({key:t,value:e})}),n},size:o,empty:s,forEach:function(n){for(var t in this)t.charCodeAt(0)===Ot&&n.call(this,t.substring(1),this[t])}});var Ut="\x00",Ot=Ut.charCodeAt(0),jt=Math.PI,Lt=jt/180,Ht=180/jt;Et.hcl=function(n,t,e){return 1===arguments.length?n instanceof l?c(n.h,n.c,n.l):n instanceof g?m(n.l,n.a,n.b):m((n=C((n=Et.rgb(n)).r,n.g,n.b)).l,n.a,n.b):c(+n,+t,+e)};var qt=l.prototype=new t;qt.brighter=function(n){return c(this.h,this.c,Math.min(100,this.l+zt*(arguments.length?n:1)))},qt.darker=function(n){return c(this.h,this.c,Math.max(0,this.l-zt*(arguments.length?n:1)))},qt.rgb=function(){return f(this.h,this.c,this.l).rgb()},Et.lab=function(n,t,e){return 1===arguments.length?n instanceof g?h(n.l,n.a,n.b):n instanceof l?f(n.l,n.c,n.h):C((n=Et.rgb(n)).r,n.g,n.b):h(+n,+t,+e)};var zt=18,Pt=.95047,Wt=1,Zt=1.08883,Xt=g.prototype=new t;Xt.brighter=function(n){return h(Math.min(100,this.l+zt*(arguments.length?n:1)),this.a,this.b)},Xt.darker=function(n){return h(Math.max(0,this.l-zt*(arguments.length?n:1)),this.a,this.b)},Xt.rgb=function(){return d(this.l,this.a,this.b)},Et.rgb=function(n,t,e){return 1===arguments.length?n instanceof w?M(n.r,n.g,n.b):k(""+n,M,A):M(~~n,~~t,~~e)};var Jt=w.prototype=new t;Jt.brighter=function(n){n=Math.pow(.7,arguments.length?n:1);var t=this.r,e=this.g,r=this.b,u=30;return t||e||r?(t&&u>t&&(t=u),e&&u>e&&(e=u),r&&u>r&&(r=u),M(Math.min(255,~~(t/n)),Math.min(255,~~(e/n)),Math.min(255,~~(r/n)))):M(u,u,u)},Jt.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),M(~~(n*this.r),~~(n*this.g),~~(n*this.b))},Jt.hsl=function(){return D(this.r,this.g,this.b)},Jt.toString=function(){return"#"+x(this.r)+x(this.g)+x(this.b)};var Rt=Et.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});Rt.forEach(function(n,t){Rt.set(n,v(t))}),Et.hsl=function(n,t,e){return 1===arguments.length?n instanceof N?S(n.h,n.s,n.l):k(""+n,D,S):S(+n,+t,+e)};var $t=N.prototype=new t;$t.brighter=function(n){return n=Math.pow(.7,arguments.length?n:1),S(this.h,this.s,this.l/n)},$t.darker=function(n){return n=Math.pow(.7,arguments.length?n:1),S(this.h,this.s,n*this.l)},$t.rgb=function(){return A(this.h,this.s,this.l)},Et.scale={},Et.scale.cubehelix=function(){return Et.scale.linear().range([Et.hsl(300,.5,0),Et.hsl(-240,.5,1)]).interpolate(Et.interpolateCubehelix)},Et.interpolateCubehelix=_(1),Et.interpolateCubehelix.gamma=_;var Bt=Math.abs;Et.range=function(n,t,e){if(arguments.length<3&&(e=1,arguments.length<2&&(t=n,n=0)),1/0===(t-n)/e)throw new Error("infinite range");var r,u=[],a=E(Bt(e)),i=-1;if(n*=a,t*=a,e*=a,0>e)for(;(r=n+e*++i)>t;)u.push(r/a);else for(;(r=n+e*++i)<t;)u.push(r/a);return u},Et.rebind=function(n,t){for(var e,r=1,u=arguments.length;++r<u;)n[e=arguments[r]]=U(n,t,t[e]);return n},Et.interpolateRgb=O,Et.interpolateObject=j,Et.interpolateArray=L,Et.interpolateNumber=H,Et.interpolateString=q;var Gt=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qt=new RegExp(Gt.source,"g");Et.interpolate=z,Et.interpolators=[function(n,e){var r=typeof e;return("string"===r?Rt.has(e)||/^(#|rgb\(|hsl\()/.test(e)?O:q:e instanceof t?O:Array.isArray(e)?L:"object"===r&&isNaN(e)?j:H)(n,e)}],Et.interpolateRound=P,Et.round=function(n,t){return t?Math.round(n*(t=Math.pow(10,t)))/t:Math.round(n)};var Kt=["y","z","a","f","p","n","\xb5","m","","k","M","G","T","P","E","Z","Y"].map(R);Et.formatPrefix=function(n,t){var e=0;return n&&(0>n&&(n*=-1),t&&(n=Et.round(n,J(n,t))),e=1+Math.floor(1e-12+Math.log(n)/Math.LN10),e=Math.max(-24,Math.min(24,3*Math.floor((e-1)/3)))),Kt[8+e/3]};var Vt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ne=Et.map({b:function(n){return n.toString(2)},c:function(n){return String.fromCharCode(n)},o:function(n){return n.toString(8)},x:function(n){return n.toString(16)},X:function(n){return n.toString(16).toUpperCase()},g:function(n,t){return n.toPrecision(t)},e:function(n,t){return n.toExponential(t)},f:function(n,t){return n.toFixed(t)},r:function(n,t){return(n=Et.round(n,J(n,t))).toFixed(Math.max(0,Math.min(20,J(n*(1+1e-15),t))))}});Et.requote=function(n){return n.replace(te,"\\$&")};var te=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,ee=Et.time={},re=Date;G.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ue.setUTCDate.apply(this._,arguments)},setDay:function(){ue.setUTCDay.apply(this._,arguments)},setFullYear:function(){ue.setUTCFullYear.apply(this._,arguments)},setHours:function(){ue.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ue.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ue.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ue.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ue.setUTCSeconds.apply(this._,arguments)},setTime:function(){ue.setTime.apply(this._,arguments)}};var ue=Date.prototype;ee.year=Q(function(n){return n=ee.day(n),n.setMonth(0,1),n},function(n,t){n.setFullYear(n.getFullYear()+t)},function(n){return n.getFullYear()}),ee.years=ee.year.range,ee.years.utc=ee.year.utc.range,ee.day=Q(function(n){var t=new re(2e3,0);return t.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),t},function(n,t){n.setDate(n.getDate()+t)},function(n){return n.getDate()-1}),ee.days=ee.day.range,ee.days.utc=ee.day.utc.range,ee.dayOfYear=function(n){var t=ee.year(n);return Math.floor((n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(n,t){t=7-t;var e=ee[n]=Q(function(n){return(n=ee.day(n)).setDate(n.getDate()-(n.getDay()+t)%7),n},function(n,t){n.setDate(n.getDate()+7*Math.floor(t))},function(n){var e=ee.year(n).getDay();return Math.floor((ee.dayOfYear(n)+(e+t)%7)/7)-(e!==t)});ee[n+"s"]=e.range,ee[n+"s"].utc=e.utc.range,ee[n+"OfYear"]=function(n){var e=ee.year(n).getDay();return Math.floor((ee.dayOfYear(n)+(e+t)%7)/7)}}),ee.week=ee.sunday,ee.weeks=ee.sunday.range,ee.weeks.utc=ee.sunday.utc.range,ee.weekOfYear=ee.sundayOfYear;var ae={"-":"",_:" ",0:"0"},ie=/^\s*\d+/,oe=/^%/;Et.locale=function(n){return{numberFormat:$(n),timeFormat:V(n)}};var se=Et.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});Et.format=se.numberFormat;var ce={floor:X,ceil:X};Et.ascending=kt;var le=Dt(kt);Et.bisectLeft=le.left,Et.bisect=Et.bisectRight=le.right,Et.bisector=function(n){return Dt(1===n.length?function(t,e){return kt(n(t),e)}:n)},Et.scale.linear=function(){return Ft([0,1],[0,1],z,!1)};var fe={s:1,g:1,p:1,r:1,e:1};Et.scale.identity=function(){return It([0,1])};var he=0,ge=["#E40303","#FF8C00","#FFED00","#008026","#004DFF","#750787"];n.fn.fabulous=function(t){function e(n,t){return t-=n=+n,function(e){return n+t*e}}function r(n,t){return t=t-(n=+n)?1/(t-n):0,function(e){return(e-n)*t}}var u=n.extend({},n.fn.fabulous.defaults,t);he++,console.log(u,he),console.log(Et),u.cycle=~~u.cycle,u.rotation=~~u.rotation;var a,i,o="fabulous-selection-"+he+"-",s=(n("<style>").appendTo("body"),[]);"cubehelix-rainbow"===u.style?(a=Et.scale.linear().domain([0,u.cycle]).range([0,360]),i=Et.scale.cubehelix().domain([0,180,360]).range([Et.hsl(-100,.75,.35),Et.hsl(80,1.5,.8),Et.hsl(260,.75,.35)])):"rainbow"===u.style?(a=Et.scale.linear().domain([0,u.cycle]).range([0,360]),i=function(n){return Et.hsl(n,1,.5)}):"pride"===u.style&&t.cycle&&6!==t.cycle&&(console.log("Overriding cycle setting to 6!"),ge.forEach(function(n){console.log("%c"+new Array(22).join(" "),"background: "+n+"; color: "+n+";")})),a=Et.scale.identity(),a=Et.scale.linear().domain([0,6]).range([0,6]);var c=function(n){return i(a(n+u.rotation))};console.log(c(5));var l=~~l||10;l=6,+new Date;var f="fabulous-styles",o="fabulous-selection-",h=n("<style>").attr("id",f).appendTo("body"),s=[],a=function(){var n=r(0,l),t=e(0,360);return function(e){return t(n(e))}}(),g=Et.scale.linear().domain(Et.range(6)).range(["#E40303","#FF8C00","#FFED00","#008026","#004DFF","#750787"]),c=function(n,t,e){return t=t||1,e=e||.5,console.log(a(n)),g(n)};Array.apply(null,Array(l)).map(function(n,t){return t}).forEach(function(n){s.push("."+o+n+"::selection { background-color: transparent; color: "+c(n)+"; text-shadow: 0px 0px 40px "+c(n)+"; }"),s.push("."+o+n+"::-moz-selection { background-color: transparent; color: "+c(n)+"; text-shadow: 0 0 5px "+c(n)+";}")}),s.push("*::selection { background-color: transparent; }"),s.push("*::-moz-selection { background-color: transparent; }"),h.html(s.join("\n"));var d=[];this.each(function(){n(this).find("*").add(this).filter(function(n){return 0===n.childElementCount||Array.prototype.slice.call(this.childNodes).some(function(n){return n.nodeType===Node.TEXT_NODE})||"inline"!==getComputedStyle(this).display}).each(function(){d.push(this)})}),console.log(d.length),n(d).addClass(function(n){return o+n%l})},n.fn.fabulous.defaults={style:"cubehelix-rainbow",cycle:8,rotation:0,glow:"bright"}}(jQuery);